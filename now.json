{
  "version": 2,
  "name": "boost-storage",
  "builds": [
    { 
      "src": "api/storages.ts",
      "use": "@now/node",
      "config": { "helpers": false }
    },
    { "src": "api/create.ts", "use": "@now/node" },
    { "src": "public/*", "use": "@now/static" }
  ],
  "routes": [{ 
      "src": "/api/users/(?<boostId>[^/]+)/storages/(?<storageId>[^/]+)/db(?<route>.*)",
      "dest": "/api/storages.ts?boostId=$boostId&storageId=$storageId&route=$route"
    }, {
      "src": "/api/users/(?<boostId>[^/]+)/storages",
      "methods": ["POST"],
      "dest": "api/create.ts?boostId=$boostId"
    }, {
      "src": "/",
      "dest": "public/index.html"
    }, {
      "src": ".*",
      "status": 301,
      "headers": { "Location": "/" }
  }]
}
